<div *ngIf="innerWidth=='lap'" style="height: 100%; position: relative;" class="product-list-div">
    <div class="stream-details" style="position: sticky;width: 100%;z-index: 10000;top: 0;"
        *ngIf="token_details !=null">
        <h4
            style="margin: 0;display: flex;align-items: center;justify-content: space-between; background: #cacaca;padding: 0 22px;height: 100%;">
            <span>{{token_details.stream.streamName}}</span>
            <span style="display: flex;">
             
                <div>
                    <a *ngIf="token_details.stream.transaction=='With Transaction'" (click)="view_cart()"
                        style="cursor: pointer;">
                        <svg width="16" height="13" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15.9652 2.93084L14.1043 8.99032C13.9652 9.42185 13.6 9.70954 13.1652 9.70954H5.98261C5.56522 9.70954 5.16522 9.43983 5.02609 9.04426L2.27826 1.43845H0.695652C0.313043 1.43845 0 1.1148 0 0.719225C0 0.323651 0.313043 0 0.695652 0H2.76522C3.06087 0 3.32174 0.197787 3.42609 0.485477L6.26087 8.27109H12.8696L14.3478 3.41632H6.15652C5.77391 3.41632 5.46087 3.09267 5.46087 2.6971C5.46087 2.30152 5.77391 1.97787 6.15652 1.97787H15.3043C15.5304 1.97787 15.7391 2.10373 15.8609 2.28354C16 2.46335 16.0348 2.71508 15.9652 2.93084ZM6.33044 10.6625C6.03478 10.6625 5.73913 10.7884 5.53043 11.0041C5.32174 11.2199 5.2 11.5256 5.2 11.8313C5.2 12.1369 5.32174 12.4426 5.53043 12.6584C5.73913 12.8741 6.03478 13 6.33044 13C6.62609 13 6.92174 12.8741 7.13043 12.6584C7.33913 12.4426 7.46087 12.1369 7.46087 11.8313C7.46087 11.5256 7.33913 11.2199 7.13043 11.0041C6.92174 10.7884 6.62609 10.6625 6.33044 10.6625ZM12.5739 10.6625C12.2783 10.6625 11.9826 10.7884 11.7739 11.0041C11.5652 11.2199 11.4435 11.5256 11.4435 11.8313C11.4435 12.1369 11.5652 12.4426 11.7739 12.6584C11.9826 12.8741 12.2783 13 12.5739 13C12.8696 13 13.1652 12.8741 13.3739 12.6584C13.5826 12.4426 13.7043 12.1369 13.7043 11.8313C13.7043 11.5256 13.5826 11.2199 13.3739 11.0041C13.1652 10.7884 12.8696 10.6625 12.5739 10.6625Z"
                                fill="white" />
                        </svg>
                        <sup *ngIf="cartCount!=0"
                            style="padding: 5px 6px;background: #2192FF;color: white;border-radius: 7px;font-size: 10px;padding-left: 3px;font-weight: bold;">
                            {{cartCount}}
                        </sup>
                    </a>

                </div>
            </span>
        </h4>
    </div>
    <div *ngIf="token_details !=null" class="product-div" [formGroup]="products">
        <ng-container formArrayName="products">
            <div class="single-product" *ngFor="let item of this.addpro.controls;index as i" [formGroupName]="i">
                <div class="card product-list">
                    <div class="card-body">
                        <div class="row" style="height: 100%;    width: 100%;    padding: 0;margin: 0;">
                            <div class="col-12 " style="    padding: 0;">
                                <div class="image-view">
                                    <span style="position: absolute;z-index: 1000;">
                                        <button style="border: none;background: no-repeat;float: right;padding: 0 15px;"
                                            (click)="save_product(item)">
                                            <svg *ngIf="!item.get('saved')?.value" width="16" height="19"
                                                viewBox="0 0 19 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M15.2282 2.32206C16.3007 2.45006 17.0875 3.39906 17.0875 4.50706V20.0001L9.77502 16.2501L2.46252 20.0001V4.50706C2.46252 3.39906 3.24837 2.45006 4.32185 2.32206C7.94514 1.89069 11.6049 1.89069 15.2282 2.32206Z"
                                                    stroke="#9D9D9D" stroke-width="3" stroke-linecap="round"
                                                    stroke-linejoin="round" />
                                            </svg>
                                            <svg *ngIf="item.get('saved')?.value" width="16" height="19"
                                                viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M13.593 1.32157C14.693 1.44957 15.5 2.39857 15.5 3.50657V18.9996L8 15.2496L0.5 18.9996V3.50657C0.5 2.39857 1.306 1.44957 2.407 1.32157C6.12319 0.890206 9.87681 0.890206 13.593 1.32157Z"
                                                    fill="#48D391" />
                                            </svg>
                                        </button>
                                    </span>
                                    <img [src]="baseURl+'/'+item.get('image')?.value" alt=""
                                        style="width: 100%;border-radius: 7px;">
                                </div>
                                <div class="row" style="    padding: 0 10px; margin-top: 10px;">
                                    <div>
                                        <p class="product-title">{{item.get('productTitle')?.value}}
                                            <!-- <span style="float: right;">
                                           
                                            </span> -->
                                            <!-- <span style="float: right;"><svg width="16" height="15" viewBox="0 0 16 15" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M4.31995 4.03912C4.33711 4.0502 4.34572 4.05937 4.34888 4.06314C4.99291 5.50242 6.42267 6.42933 8 6.42933C9.57734 6.42933 11.0071 5.50241 11.6511 4.06311C11.6543 4.05934 11.6629 4.05011 11.6802 4.03895C11.7088 4.02046 11.7566 4 11.8329 4C11.9203 4 11.9728 4.0274 11.9997 4.04881C11.9787 5.56533 10.9833 7.21923 9.27246 8.81416C8.84214 9.21532 8.40703 9.57404 8 9.88424C7.59297 9.57404 7.15786 9.21532 6.72754 8.81416C5.01671 7.21929 4.02137 5.56545 4.00034 4.04897C4.02739 4.02728 4.07977 4 4.16622 4C4.24331 4 4.29139 4.02067 4.31995 4.03912ZM6.11035 11.1412C6.11035 11.1412 6.11092 11.1409 6.11209 11.1402L6.11134 11.1406L6.11035 11.1412ZM9.88866 11.1406L9.88791 11.1402C9.88996 11.1413 9.89019 11.1415 9.88866 11.1406Z"
                                                stroke="#48D391" stroke-width="8" stroke-linecap="round"
                                                stroke-linejoin="round" />
                                        </svg>
                                    </span> -->
                                        </p>
                                        <p style="margin-bottom: 2px;">

                                            <span style="font-size: 12px;font-weight:bold;margin-right: 10px;"><i
                                                    class="fa fa-rupee"></i>{{item.get('offerPrice')?.value}}</span>
                                            <span style="font-size: 11px;text-decoration: line-through;color: gray;"><i
                                                    class="fa fa-rupee"></i> {{item.get('marketPlace')?.value}}</span>
                                        </p>
                                    </div>
                                    <div *ngIf="token_details.stream.transaction=='With Transaction'"
                                        style="text-align: right;padding: 0;display: flex;align-items: center;justify-content: space-between;"
                                        #view_change>
                                        <p style="margin-left: 11px;font-size: 11px;font-weight: bold;"><span
                                                *ngIf="item.get('cartQTY')?.value !=0">{{item.get('cartQTY')?.value *
                                                item.get('offerPrice')?.value | currency:'INR'}}</span></p>
                                        <button class="add-to-cart-icon" (click)="add_to_cart(item,view_change)"
                                            *ngIf="!item.get('add_to_cart')?.value ">Add
                                            to
                                            cart</button>
                                        <div *ngIf="item.get('add_to_cart')?.value"
                                            style="display: flex; align-items: center; justify-content: flex-end;">
                                            <button class="add-to-cart-button" (click)="increament(1,item)">-</button>
                                            <button class="add-to-cart-view">{{item.get('cartQTY')?.value}}</button>
                                            <button class="add-to-cart-button" (click)="increament(2,item)">+</button>
                                        </div>
                                    </div>
                                    <div *ngIf="token_details.stream.transaction=='Without Transaction'"
                                        style="text-align: right;padding: 0;display: flex;align-items: center;justify-content: flex-end;"
                                        #view_change>
                                        <button class="add-to-cart-icon" style="margin-right: 5px;" *ngIf="!item.get('interested')?.value"
                                            (click)="Interested(item)">Interest</button>
                                        <button
                                            style="color: green;font-size: 11px;border:none;display: flex;align-items: center;background:no-repeat;padding: 0 10px;"
                                            class="" *ngIf="item.get('interested')?.value">
                                            <svg width="18" height="16" viewBox="0 0 22 21" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M13.5998 8.00033H20C21.1046 8.00033 22 8.89576 22 10.0003V12.1047C22 12.3659 21.9488 12.6246 21.8494 12.8662L18.755 20.3811C18.6007 20.7558 18.2355 21.0003 17.8303 21.0003H1C0.44772 21.0003 0 20.5526 0 20.0003V10.0003C0 9.44804 0.44772 9.00033 1 9.00033H4.48184C4.80677 9.00033 5.11143 8.84246 5.29881 8.57701L10.7522 0.851355C10.8947 0.649486 11.1633 0.581978 11.3843 0.692483L13.1984 1.59951C14.25 2.12534 14.7931 3.31292 14.5031 4.45235L13.5998 8.00033ZM6 10.5878V19.0003H17.1606L20 12.1047V10.0003H13.5998C12.2951 10.0003 11.3398 8.77128 11.6616 7.50691L12.5649 3.95894C12.6229 3.73105 12.5143 3.49353 12.3039 3.38837L11.6428 3.0578L6.93275 9.73038C6.68285 10.0844 6.36341 10.3746 6 10.5878ZM4 11.0003H2V19.0003H4V11.0003Z"
                                                    fill="#019444" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</div>
<div class="container-fluid product-lists" *ngIf="innerWidth=='tab'  || innerWidth =='mobile'" [formGroup]="products">
    <div class="row product-row" style="padding: 0;margin:0;" *ngIf="token_details !=null" formArrayName="products">
        <div class="col-md-6 col-lg-6 col-xs-12 col-sm-12" *ngFor="let item of this.addpro.controls;index as i"
            [formGroupName]="i" style="height: 96px;    padding: 0 4px 8px 8px;">
            <div class="product-details">
                <div class="row" style="padding: 0;margin:0">
                    <div class="col-3 image-view-medium" style="margin:0">
                        <img [src]="baseURl+'/'+item.get('image')?.value" alt="">
                    </div>
                    <div class="col-4 title-views" style="padding: 0;margin:0">
                        <p class="product-title">{{item.get('productTitle')?.value}}
                            <span *ngIf="item.get('bookingAmount')?.value =='yes'">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M9.5 9.5L9.52733 9.48667C9.61282 9.44396 9.70875 9.42664 9.80378 9.43677C9.8988 9.4469 9.98893 9.48404 10.0635 9.54381C10.1381 9.60357 10.1939 9.68345 10.2245 9.77399C10.2551 9.86453 10.2591 9.96193 10.236 10.0547L9.764 11.9453C9.74076 12.0381 9.74463 12.1356 9.77513 12.2263C9.80563 12.3169 9.86149 12.3969 9.93609 12.4568C10.0107 12.5166 10.1009 12.5538 10.196 12.564C10.2911 12.5741 10.3871 12.5568 10.4727 12.514L10.5 12.5M16 10C16 10.7879 15.8448 11.5681 15.5433 12.2961C15.2417 13.0241 14.7998 13.6855 14.2426 14.2426C13.6855 14.7998 13.0241 15.2417 12.2961 15.5433C11.5681 15.8448 10.7879 16 10 16C9.21207 16 8.43185 15.8448 7.7039 15.5433C6.97595 15.2417 6.31451 14.7998 5.75736 14.2426C5.20021 13.6855 4.75825 13.0241 4.45672 12.2961C4.15519 11.5681 4 10.7879 4 10C4 8.4087 4.63214 6.88258 5.75736 5.75736C6.88258 4.63214 8.4087 4 10 4C11.5913 4 13.1174 4.63214 14.2426 5.75736C15.3679 6.88258 16 8.4087 16 10ZM10 7.5H10.0053V7.50533H10V7.5Z"
                                        stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>


                            </span>
                        </p>
                        <div class="price-views">
                            <p *ngIf="item.get('cartQTY')?.value ==0" class="price">{{item.get('offerPrice')?.value |
                                currency:'INR'}} / <sub
                                    style="text-decoration:line-through;">{{item.get('marketPlace')?.value|currency
                                    :"INR"}}</sub></p>
                            <p *ngIf="item.get('cartQTY')?.value !=0" class="price-value">
                                <span>
                                    {{item.get('offerPrice')?.value * item.get('cartQTY')?.value|currency
                                    :"INR"}}
                                    ({{item.get('offerPrice')?.value}} x {{item.get('cartQTY')?.value}} )</span>
                            </p>
                        </div>
                    </div>
                    <div class="col-5 price-views" style="padding: 0;margin:0">
                        <div>
                            <button style="border: none;background: no-repeat;float: right;padding: 0 15px;"
                                (click)="save_product(item)">
                                <svg *ngIf="!item.get('saved')?.value" width="16" height="19" viewBox="0 0 19 22"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M15.2282 2.32206C16.3007 2.45006 17.0875 3.39906 17.0875 4.50706V20.0001L9.77502 16.2501L2.46252 20.0001V4.50706C2.46252 3.39906 3.24837 2.45006 4.32185 2.32206C7.94514 1.89069 11.6049 1.89069 15.2282 2.32206Z"
                                        stroke="#9D9D9D" stroke-width="3" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                                <svg *ngIf="item.get('saved')?.value" width="16" height="19" viewBox="0 0 16 19"
                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M13.593 1.32157C14.693 1.44957 15.5 2.39857 15.5 3.50657V18.9996L8 15.2496L0.5 18.9996V3.50657C0.5 2.39857 1.306 1.44957 2.407 1.32157C6.12319 0.890206 9.87681 0.890206 13.593 1.32157Z"
                                        fill="#48D391" />
                                </svg>
                            </button>
                        </div>
                        <div class="add-t-cart" #view_change
                            *ngIf="token_details.stream.transaction=='With Transaction'">
                            <!-- <a class="add-to-cart-icon" *ngIf="!item.get('add_to_cart')?.value"
                                (click)="add_to_cart(item,view_change)">Add to cart</a> -->
                            <button class="add-to-cart-icon" (click)="add_to_cart(item,view_change)"
                                *ngIf="!item.get('add_to_cart')?.value">Add
                                to
                                cart</button>
                            <div *ngIf="item.get('add_to_cart')?.value"
                                style="display: flex; align-items: center;    justify-content:  flex-end;">
                                <button class="add-to-cart-button" style="font-size: 11px;"
                                    (click)="increament(1,item)">-</button>
                                <button class="add-to-cart-view"
                                    style="background-color: #ffffff;color:black;font-size: 11px;display: flex;align-items: center;">{{item.get('cartQTY')?.value}}
                                    <span style="font-size: 10px;margin-left: 3px;font-weight: bold;">KG</span></button>
                                <button class="add-to-cart-button" style="font-size: 11px;"
                                    (click)="increament(2,item)">+</button>
                            </div>
                        </div>
                        <div class="add-t-cart" *ngIf="token_details.stream.transaction=='Without Transaction'"
                            style="text-align: right;padding: 0;display: flex;align-items: center;justify-content: flex-end;"
                            #view_change>
                            <button class="add-to-cart-icon"  style="margin-right: 5px;"  *ngIf="!item.get('interested')?.value"
                                (click)="Interested(item)">Interest</button>

                            <button
                                style="color: green;font-size: 11px;border:none;display: flex;align-items: center;background:no-repeat;padding: 0 10px;"
                                class="" *ngIf="item.get('interested')?.value">
                                <svg width="18" height="16" viewBox="0 0 22 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M13.5998 8.00033H20C21.1046 8.00033 22 8.89576 22 10.0003V12.1047C22 12.3659 21.9488 12.6246 21.8494 12.8662L18.755 20.3811C18.6007 20.7558 18.2355 21.0003 17.8303 21.0003H1C0.44772 21.0003 0 20.5526 0 20.0003V10.0003C0 9.44804 0.44772 9.00033 1 9.00033H4.48184C4.80677 9.00033 5.11143 8.84246 5.29881 8.57701L10.7522 0.851355C10.8947 0.649486 11.1633 0.581978 11.3843 0.692483L13.1984 1.59951C14.25 2.12534 14.7931 3.31292 14.5031 4.45235L13.5998 8.00033ZM6 10.5878V19.0003H17.1606L20 12.1047V10.0003H13.5998C12.2951 10.0003 11.3398 8.77128 11.6616 7.50691L12.5649 3.95894C12.6229 3.73105 12.5143 3.49353 12.3039 3.38837L11.6428 3.0578L6.93275 9.73038C6.68285 10.0844 6.36341 10.3746 6 10.5878ZM4 11.0003H2V19.0003H4V11.0003Z"
                                        fill="#019444" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>